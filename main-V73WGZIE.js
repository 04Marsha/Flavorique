import{A as m,B as Ct,C as s,D as y,E as q,F as Pt,G,H as w,I as $,J as bt,K as Ot,L as vt,M as ct,N as Mt,O as yt,P as wt,Q as St,R as B,S,T as D,U as O,V as Y,W as kt,X as F,Y as It,Z as Lt,_ as Nt,a as mt,aa as R,b as dt,c as gt,ca as Et,d as ut,da as At,e as ft,ea as zt,f as ht,fa as Tt,g as M,h as I,ha as Dt,i as v,j as xt,ja as Ft,k as h,ka as Rt,l as x,la as jt,m as U,ma as Vt,n as L,na as W,o as p,oa as K,p as C,q as u,r as N,s as f,t as l,u as _t,v as o,w as r,x as d,y as P,z as g}from"./chunk-3GC5YMCG.js";function qt(e,n){e&1&&(o(0,"button",8),s(1," Sign Up "),r())}function Gt(e,n){e&1&&(o(0,"button",9),s(1," Login "),r())}function $t(e,n){if(e&1){let t=P();o(0,"button",10),g("click",function(){h(t);let a=m();return x(a.onLogout())}),s(1," Logout "),r()}}var Z=class e{constructor(n){this.authService=n}userIsAuthenticated=!1;authListenerSubs;ngOnInit(){this.userIsAuthenticated=this.authService.getIsAuth(),this.authListenerSubs=this.authService.getAuthStatusListener().subscribe(n=>{this.userIsAuthenticated=n})}onLogout(){this.authService.logout()}ngOnDestroy(){this.authListenerSubs.unsubscribe()}static \u0275fac=function(t){return new(t||e)(C(O))};static \u0275cmp=u({type:e,selectors:[["app-header"]],standalone:!1,decls:9,vars:3,consts:[[1,"toolbar"],[1,"flavorique"],["src","Logo.png","alt","Flavorique"],["routerLink","/"],[1,"auth-actions"],["class","signup","routerLink","/auth/signup",4,"ngIf"],["class","login","routerLink","/auth/login",4,"ngIf"],["class","login",3,"click",4,"ngIf"],["routerLink","/auth/signup",1,"signup"],["routerLink","/auth/login",1,"login"],[1,"login",3,"click"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1),d(2,"img",2),o(3,"h1",3),s(4,"Flavorique"),r()(),o(5,"div",4),f(6,qt,2,0,"button",5)(7,Gt,2,0,"button",6)(8,$t,2,0,"button",7),r()()),t&2&&(p(6),l("ngIf",!i.userIsAuthenticated),p(),l("ngIf",!i.userIsAuthenticated),p(),l("ngIf",i.userIsAuthenticated))},dependencies:[w,S],styles:[".toolbar[_ngcontent-%COMP%]{background-color:#e4d6f7;color:#2f1451;width:100%;max-width:1400px;margin:24px auto;padding:14px 26px;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;border-radius:48px;transition:padding .3s ease}body.scrolled[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{padding:6px 14px}.flavorique[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;background-color:#e4d6f7}.flavorique[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:38px;background-color:#e4d6f7}.flavorique[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Leckerli One,cursive;font-size:30px;background-color:#e4d6f7;cursor:pointer;margin:0}.auth-actions[_ngcontent-%COMP%]{background-color:#e4d6f7;display:flex;gap:10px}.signup[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{height:42px;padding:0 18px;font-size:20px;font-family:Leckerli One,cursive;background-color:#e4d6f7;color:#2f1451;border-radius:10px;cursor:pointer;transition:all .25s ease;border:none}.signup[_ngcontent-%COMP%]:hover, .login[_ngcontent-%COMP%]:hover{background-color:#2f1451;color:#e4d6f7;transform:translateY(-2px)}@media screen and (max-width: 480px){.toolbar[_ngcontent-%COMP%]{margin:10px auto;padding:10px 14px;border-radius:22px}.flavorique[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:26px}.flavorique[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.auth-actions[_ngcontent-%COMP%]{gap:6px}.signup[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{height:30px;padding:0 12px;font-size:13px;border-width:1.5px}}"]})};var J=class e{constructor(n){this.authService=n}ngOnInit(){this.authService.autoAuthUser()}static \u0275fac=function(t){return new(t||e)(C(O))};static \u0275cmp=u({type:e,selectors:[["app-root"]],standalone:!1,decls:3,vars:0,template:function(t,i){t&1&&(d(0,"app-header"),o(1,"main"),d(2,"router-outlet"),r())},dependencies:[St,Z],encapsulation:2})};var V=yt.apiUrl+"/posts/",A=class e{constructor(n,t){this.http=n;this.router=t}posts=[];postsUpdated=new dt;getPosts(n,t){let i="";n&&t&&(i=`?pageSize=${n}&page=${t}`),this.http.get(V+i).pipe(ft(a=>({posts:a.posts.map(c=>({recipeName:c.recipeName,yourName:c.yourName,recipe:c.recipe,id:c._id,imagePath:c.imagePath,creator:c.creator})),postCount:a.maxPosts}))).subscribe(a=>{this.posts=a.posts,this.postsUpdated.next({posts:[...this.posts],postCount:a.postCount})})}getPostUpdateListener(){return this.postsUpdated.asObservable()}getPost(n){return this.http.get(V+n)}addPost(n,t,i,a){let c=new FormData;c.append("recipeName",n),c.append("yourName",t),c.append("recipe",i),c.append("image",a,n),this.http.post(V,c).subscribe(b=>{this.router.navigate(["/"])})}updatePost(n,t,i,a,c){let b;typeof c=="object"?(b=new FormData,b.append("id",n),b.append("recipeName",t),b.append("yourName",i),b.append("recipe",a),b.append("image",c,t)):b={id:n,recipeName:t,yourName:i,recipe:a,imagePath:c,creator:null},this.http.put(V+n,b).subscribe(T=>{this.router.navigate(["/"])})}deletePost(n){this.http.delete(V+n).subscribe(()=>{this.posts=this.posts.filter(t=>t.id!==n),this.postsUpdated.next({posts:[...this.posts],postCount:this.posts.length})})}static \u0275fac=function(t){return new(t||e)(v(vt),v(B))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})};function Yt(e,n){if(e&1){let t=P();o(0,"a",3),g("click",function(){h(t);let a=m();return x(a.onPageChange(a.currentPage-1))}),d(1,"img",4),r()}}function Wt(e,n){if(e&1){let t=P();o(0,"li")(1,"a",5),g("click",function(){let a=h(t).$implicit,c=m();return x(c.onPageChange(a))}),s(2),r()()}if(e&2){let t=n.$implicit,i=m();p(),_t("active",t===i.currentPage),p(),q(" ",t," ")}}function Kt(e,n){if(e&1){let t=P();o(0,"a",3),g("click",function(){h(t);let a=m();return x(a.onPageChange(a.currentPage+1))}),d(1,"img",6),r()}}var Q=class e{totalPosts=0;postsPerPage=8;currentPage=1;pageChange=new U;pages=[];ngOnChanges(){this.updatePages()}updatePages(){if(this.totalPosts<=0||this.postsPerPage<=0){this.pages=[];return}let n=Math.ceil(this.totalPosts/this.postsPerPage);this.pages=Array.from({length:n},(t,i)=>i+1)}onPageChange(n){n<1||n>this.pages.length||(this.currentPage=n,this.pageChange.emit(n))}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-paginator"]],inputs:{totalPosts:"totalPosts",postsPerPage:"postsPerPage",currentPage:"currentPage"},outputs:{pageChange:"pageChange"},standalone:!1,features:[xt],decls:6,vars:3,consts:[[1,"pagination"],["id","img-bg",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["id","img-bg",3,"click"],["src","icons/left.png","alt","left"],[3,"click"],["src","icons/right.png","alt","right"]],template:function(t,i){t&1&&(o(0,"ul",0)(1,"li"),f(2,Yt,2,0,"a",1),r(),f(3,Wt,3,3,"li",2),o(4,"li"),f(5,Kt,2,0,"a",1),r()()),t&2&&(p(2),l("ngIf",i.currentPage!==1),p(),l("ngForOf",i.pages),p(2),l("ngIf",i.currentPage!==i.pages.length))},dependencies:[G,w],styles:[".pagination[_ngcontent-%COMP%]{margin:0;padding:10px;border-radius:40px}li[_ngcontent-%COMP%]{display:inline-block;list-style:none;vertical-align:middle}a[_ngcontent-%COMP%]{display:block;width:30px;height:30px;line-height:30px;background-color:#e4d6f7;color:#2f1451;font-size:15px;font-weight:900;font-family:Glegoo;text-align:center;text-decoration:none;border:1px solid #3d324e;border-radius:4px;margin:5px;box-shadow:inset 0 5px 10px #0000001a,0 2px 5px #00000080;transition:all .3s ease}img[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}#img-bg[_ngcontent-%COMP%]{background-color:#2f1451;box-shadow:none;border:none}a[_ngcontent-%COMP%]:hover, a.active[_ngcontent-%COMP%]{background-color:#2f1451;color:#e4d6f7;border:1px solid #e4d6f7;box-shadow:none}a[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%]{border-radius:40px 0 0 40px}a[_ngcontent-%COMP%]:last-child   a[_ngcontent-%COMP%]{border-radius:0 40px 40px 0}@media (hover: none){.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:none}}@media (max-width: 600px){.pagination[_ngcontent-%COMP%]{margin:40px auto 60px;padding:10px 14px;gap:6px}.pagination[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:34px;height:34px;font-size:14px}}"]})};var X=class e{image;recipeName;name;recipe;close=new U;onClose(){this.close.emit()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-post-display"]],inputs:{image:"image",recipeName:"recipeName",name:"name",recipe:"recipe"},outputs:{close:"close"},standalone:!1,decls:11,vars:4,consts:[[1,"display-window",3,"click"],[1,"modal-content",3,"click"],["alt","Expanded Image",3,"src"],[1,"title"],[1,"name"],[1,"recipe"],[1,"close-button",3,"click"]],template:function(t,i){t&1&&(o(0,"div",0),g("click",function(){return i.onClose()}),o(1,"div",1),g("click",function(c){return c.stopPropagation()}),d(2,"img",2),o(3,"h2",3),s(4),r(),o(5,"p",4),s(6),r(),o(7,"p",5),s(8),r(),o(9,"button",6),g("click",function(){return i.onClose()}),s(10,"Close"),r()()()),t&2&&(p(2),l("src",i.image,L),p(2),y(i.recipeName),p(2),y(i.name),p(2),q(" ",i.recipe," "))},styles:[".display-window[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#f7e6ff;padding:20px;border-radius:12px;width:1000px;height:800px;overflow-y:auto;box-shadow:0 4px 20px #0000004d;text-align:center;animation:_ngcontent-%COMP%_scaleUp .3s ease}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:370px;width:370px;border-radius:20px;margin-bottom:20px}.title[_ngcontent-%COMP%]{background-color:#f7e6ff;color:#2f1451;font-family:Glegoo;font-size:40px;font-weight:600}.name[_ngcontent-%COMP%]{background-color:#f7e6ff;color:#2f1451;font-family:Glegoo;font-size:30px;font-weight:600}.recipe[_ngcontent-%COMP%]{background-color:#f7e6ff;color:#2f1451;font-family:Glegoo;font-size:30px}.close-button[_ngcontent-%COMP%]{margin-top:1rem;padding:10px 20px;background-color:#2f1451;color:#f7e6ff;border:none;border-radius:10px;cursor:pointer;font-size:25px;font-family:Leckerli One;height:50px;width:100px}.close-button[_ngcontent-%COMP%]:hover{font-size:28px;height:53px;width:103px;color:#2f1451;background-color:#f7e6ff}@keyframes _ngcontent-%COMP%_scaleUp{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}@media screen and (max-width: 1024px){.modal-content[_ngcontent-%COMP%]{width:90%;height:90%;padding:30px 20px}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:300px}.title[_ngcontent-%COMP%]{font-size:35px}.name[_ngcontent-%COMP%], .recipe[_ngcontent-%COMP%]{font-size:26px}.close-button[_ngcontent-%COMP%]{font-size:22px;width:90px;height:45px}}@media screen and (max-width: 600px){.modal-content[_ngcontent-%COMP%]{width:95%;height:auto;max-height:90vh;padding:20px 15px}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:250px;height:auto}.title[_ngcontent-%COMP%]{font-size:28px}.name[_ngcontent-%COMP%], .recipe[_ngcontent-%COMP%]{font-size:22px}.close-button[_ngcontent-%COMP%]{font-size:20px;width:80px;height:40px}}@media screen and (min-width: 1440px){.modal-content[_ngcontent-%COMP%]{width:900px;height:750px;padding:40px 60px}.modal-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:370px;height:370px}.title[_ngcontent-%COMP%]{font-size:42px}.name[_ngcontent-%COMP%], .recipe[_ngcontent-%COMP%]{font-size:32px}.close-button[_ngcontent-%COMP%]{font-size:26px;width:110px;height:55px}}"]})};var tt=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-footer"]],standalone:!1,decls:31,vars:0,consts:[[1,"footer"],[1,"footer-content","layout-container"],[1,"footer-brand"],[1,"brand-title"],["routerLink","/"],["src","Logo.png"],[1,"footer-links"],["routerLink","/create"],["routerLink","/auth/login"],["routerLink","/auth/signup"],[1,"mylogo"],["href","https://04marsha.github.io/marsha-sharma/"],["src","marsha.png","alt","marsha"],[1,"social-links"],["href","https://www.linkedin.com/in/marsha-sharma-8b99b42b5/"],["href","https://github.com/04Marsha"],[1,"footer-bottom"]],template:function(t,i){t&1&&(o(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),d(5,"img",5),o(6,"h2"),s(7,"Flavorique"),r()()(),o(8,"p"),s(9,"Where home recipes find their place."),r()(),o(10,"div",6)(11,"h3"),s(12,"Explore"),r(),o(13,"a",4),s(14,"Home"),r(),o(15,"a",7),s(16,"Add Recipe"),r(),o(17,"a",8),s(18,"Login"),r(),o(19,"a",9),s(20,"Sign up"),r()(),o(21,"div",10)(22,"a",11),d(23,"img",12),r(),o(24,"div",13)(25,"a",14),s(26,"Linkedin"),r(),o(27,"a",15),s(28,"Github"),r()()()(),o(29,"div",16),s(30,"\xA92025 Flavorique \u2022 Crafted with love"),r()())},dependencies:[S],styles:[".footer[_ngcontent-%COMP%]{color:#2f1451;margin-top:120px;font-family:Leckerli One}.layout-container[_ngcontent-%COMP%]{max-width:1400px;margin:24px auto;padding:14px 26px;box-sizing:border-box;background-color:#e4d6f7;border-radius:48px}.footer-content[_ngcontent-%COMP%]{padding:60px 0 40px;display:grid;grid-template-columns:2fr 1fr 1fr;gap:40px}.footer-brand[_ngcontent-%COMP%]{padding:14px 26px;display:flex;flex-direction:column;align-items:center;justify-content:center}.brand-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;list-style:none;text-decoration:none;color:#2f1451}.brand-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px}.brand-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:34px;margin:0;line-height:1}.footer-brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Glegoo;font-size:16px;line-height:1.6}.footer-links[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:25px;margin-bottom:14px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-decoration:none;color:#2f1451;font-family:Glegoo;font-size:15px;margin-bottom:10px;transition:transform .2s ease,opacity .2s ease}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:translate(4px);opacity:.8}.mylogo[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:25px;width:240px;height:240px;border-radius:50%;background-color:#2f1451}.mylogo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:48px;width:auto;cursor:pointer}.social-links[_ngcontent-%COMP%]{display:flex;flex-direction:column}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;display:block;text-decoration:none;color:#e4d6f7;font-family:Glegoo;font-size:15px;margin-bottom:5px;transition:transform .2s ease,opacity .2s ease}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.footer-bottom[_ngcontent-%COMP%]{text-align:center;padding:18px;font-size:15px;font-family:Glegoo;background-color:#2f1451;color:#e4d6f7;border-bottom-left-radius:40px;border-bottom-right-radius:40px}@media (max-width: 900px){.footer-content[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:32px;padding:40px 0}.footer-brand[_ngcontent-%COMP%]{grid-column:span 2;text-align:center}.footer-links[_ngcontent-%COMP%]{text-align:center}.mylogo[_ngcontent-%COMP%]{margin:0 auto;width:200px;height:200px}}@media (max-width: 480px){.footer[_ngcontent-%COMP%]{margin-top:80px}.layout-container[_ngcontent-%COMP%]{padding:16px;border-radius:28px;display:flex;flex-direction:column}.footer-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:28px;text-align:center;padding:30px 10px}.brand-title[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.brand-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:44px}.brand-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px}.footer-brand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.footer-links[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}.mylogo[_ngcontent-%COMP%]{width:180px;height:180px;gap:18px}.mylogo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:42px}.social-links[_ngcontent-%COMP%]{gap:20px}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}.footer-bottom[_ngcontent-%COMP%]{font-size:13px;padding:14px}}"]})};var te=e=>["/edit",e];function ee(e,n){e&1&&(o(0,"div",7),d(1,"app-spinner"),r())}function ne(e,n){e&1&&(o(0,"button",10),s(1," + Add "),r())}function ie(e,n){if(e&1&&(o(0,"div",8)(1,"h1"),s(2,"Explore Recipes"),r(),f(3,ne,2,0,"button",9),r()),e&2){let t=m();p(3),l("ngIf",t.userIsAuthenticated)}}function oe(e,n){if(e&1){let t=P();o(0,"div",16)(1,"button",17),s(2,"Edit"),r(),o(3,"button",18),g("click",function(){h(t);let a=m().$implicit,c=m(2);return x(c.onDelete(a.id))}),s(4,"Delete"),r()()}if(e&2){let t=m().$implicit;p(),l("routerLink",Pt(1,te,t.id))}}function re(e,n){if(e&1){let t=P();o(0,"div",13)(1,"img",14),g("click",function(){let a=h(t).$implicit,c=m(2);return x(c.onImageClicked(a.id))}),r(),o(2,"h2"),s(3),r(),o(4,"h3"),s(5),r(),f(6,oe,5,3,"div",15),r()}if(e&2){let t=n.$implicit,i=m(2);p(),l("src",i.getSecureImagePath(t.imagePath),L)("alt",t.recipeName),p(2),y(t.recipeName),p(2),y(t.yourName),p(),l("ngIf",i.userIsAuthenticated&&i.userId==t.creator)}}function ae(e,n){if(e&1&&(o(0,"div",11),f(1,re,7,5,"div",12),r()),e&2){let t=m();p(),l("ngForOf",t.posts)}}function se(e,n){if(e&1){let t=P();o(0,"div",19)(1,"app-paginator",20),g("pageChange",function(a){h(t);let c=m();return x(c.onPageChange(a))}),r()()}if(e&2){let t=m();p(),l("totalPosts",t.totalPosts)("postsPerPage",t.postsPerPage)("currentPage",t.currentPage)}}function pe(e,n){e&1&&(o(0,"p",21),s(1,` No Recipes to display..
`),r())}function ce(e,n){if(e&1){let t=P();o(0,"app-post-display",22),g("close",function(){h(t);let a=m();return x(a.closeDisplay())}),r()}if(e&2){let t=m();l("image",t.selectedPost.imagePath)("recipeName",t.selectedPost.recipeName)("name",t.selectedPost.yourName)("recipe",t.selectedPost.recipe)}}var et=class e{constructor(n,t){this.postsService=n;this.authService=t}posts=[];isLoading=!1;isVisible=!1;postsSub;userIsAuthenticated=!1;authStatusSub;userId;selectedPost=null;totalPosts=0;postsPerPage=8;currentPage=1;ngOnInit(){this.postsService.getPosts(this.postsPerPage,this.currentPage),this.isLoading=!0,this.userId=this.authService.getUserId(),this.postsSub=this.postsService.getPostUpdateListener().subscribe(n=>{this.isLoading=!1,this.posts=n.posts,this.totalPosts=n.postCount}),this.userIsAuthenticated=this.authService.getIsAuth(),this.authStatusSub=this.authService.getAuthStatusListener().subscribe(n=>{this.userIsAuthenticated=n,this.userId=this.authService.getUserId()})}onDelete(n){this.postsService.deletePost(n)}onImageClicked(n){this.isLoading=!0,this.postsService.getPost(n).subscribe(t=>{this.selectedPost={id:t._id,recipeName:t.recipeName,yourName:t.yourName,recipe:t.recipe,imagePath:t.imagePath,creator:t.creator},this.isLoading=!1})}closeDisplay(){this.selectedPost=null}ngOnDestroy(){this.postsSub.unsubscribe(),this.authStatusSub.unsubscribe()}getSecureImagePath(n){return n.startsWith("http://")?n.replace("http://","https://"):n}onPageChange(n){this.currentPage=n,this.isLoading=!0,this.postsService.getPosts(this.postsPerPage,this.currentPage)}static \u0275fac=function(t){return new(t||e)(C(A),C(O))};static \u0275cmp=u({type:e,selectors:[["app-post-list"]],standalone:!1,decls:8,vars:6,consts:[["class","spinner",4,"ngIf"],["class","heading",4,"ngIf"],["class","card-container",4,"ngIf"],["class","paginator",4,"ngIf"],[1,"footer"],["routerLink","/","id","empty",4,"ngIf"],[3,"image","recipeName","name","recipe","close",4,"ngIf"],[1,"spinner"],[1,"heading"],["routerLink","/create","class","add-button",4,"ngIf"],["routerLink","/create",1,"add-button"],[1,"card-container"],["class","recipe-card",4,"ngFor","ngForOf"],[1,"recipe-card"],[1,"image",3,"click","src","alt"],["class","buttons",4,"ngIf"],[1,"buttons"],["id","edit-button",3,"routerLink"],["id","delete-button",3,"click"],[1,"paginator"],[3,"pageChange","totalPosts","postsPerPage","currentPage"],["routerLink","/","id","empty"],[3,"close","image","recipeName","name","recipe"]],template:function(t,i){t&1&&(f(0,ee,2,0,"div",0)(1,ie,4,1,"div",1)(2,ae,2,1,"div",2)(3,se,2,3,"div",3),o(4,"div",4),d(5,"app-footer"),r(),f(6,pe,2,0,"p",5)(7,ce,1,4,"app-post-display",6)),t&2&&(l("ngIf",i.isLoading),p(),l("ngIf",!i.isLoading),p(),l("ngIf",i.posts.length>0&&!i.isLoading),p(),l("ngIf",!i.isLoading),p(3),l("ngIf",i.posts.length<=0&&!i.isLoading),p(),l("ngIf",i.selectedPost))},dependencies:[G,w,S,Y,Q,X,tt],styles:[".heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:120px auto 60px;padding:0 60px;max-width:1400px}.heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Leckerli One;color:#e4d6f7;font-size:48px;font-weight:400}.add-button[_ngcontent-%COMP%]{background-color:#e4d6f7;color:#2f1451;font-size:28px;font-family:Leckerli One;height:55px;width:180px;border:none;border-radius:12px;cursor:pointer;transition:all .3s ease}.add-button[_ngcontent-%COMP%]:hover{background-color:#2f1451;color:#e4d6f7;transform:scale(1.05)}.card-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:36px;max-width:1400px;margin:0 auto;padding:40px 24px 100px;background-color:#2f1451}#empty[_ngcontent-%COMP%]{font-family:Leckerli One;font-size:32px;color:#e4d6f7;text-align:center;margin:150px auto}.recipe-card[_ngcontent-%COMP%]{background-color:#e4d6f7;color:#2f1451;border-radius:22px;padding:16px 16px 18px;width:100%;display:flex;flex-direction:column;align-items:center;transition:transform .35s ease,box-shadow .35s ease}.recipe-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 15px 40px #00000040}.image[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover;border-radius:25px;cursor:pointer}.recipe-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{background-color:#e4d6f7;color:#2f1451}.recipe-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Glegoo;font-size:28px;font-weight:700;text-align:center}.recipe-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Glegoo;font-size:22px;font-weight:400;text-align:center;opacity:.85}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;background-color:#e4d6f7;margin-top:12px}#edit-button[_ngcontent-%COMP%], #delete-button[_ngcontent-%COMP%]{background-color:#2f1451;color:#e4d6f7;font-family:Leckerli One;height:40px;width:45%;font-size:18px;border-radius:20px;border:none;cursor:pointer;transition:all .3s ease}#edit-button[_ngcontent-%COMP%]:hover{transform:scale(1.08)}#delete-button[_ngcontent-%COMP%]:hover{background-color:#a82b2b;transform:scale(1.08)}.paginator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:40px auto 80px;width:100%}@media (max-width: 1300px){.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:36px;padding-left:24px;padding-right:24px;justify-items:center}.recipe-card[_ngcontent-%COMP%]{width:100%;max-width:360px}.heading[_ngcontent-%COMP%]{padding-left:24px;padding-right:24px;margin-top:80px}.heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px}.image[_ngcontent-%COMP%]{height:320px}}@media (max-width: 600px){.card-container[_ngcontent-%COMP%]{grid-template-columns:1fr;padding-left:16px;padding-right:16px;justify-items:center}.recipe-card[_ngcontent-%COMP%]{width:100%;max-width:300px;padding:12px;border-radius:18px;margin:0}.image[_ngcontent-%COMP%]{height:230px}.heading[_ngcontent-%COMP%]{flex-direction:column;gap:16px;margin-top:40px;padding:0 16px;text-align:center}.heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}.add-button[_ngcontent-%COMP%]{width:100%;max-width:240px;height:44px;font-size:20px}}@media (max-width: 480px){.heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;line-height:1.2}.image[_ngcontent-%COMP%]{height:280px}.recipe-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:6px;font-size:22px}.recipe-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:2px;font-size:16px}}@media (hover: none){.recipe-card[_ngcontent-%COMP%]:hover, .image[_ngcontent-%COMP%]:hover, #edit-button[_ngcontent-%COMP%]:hover, #delete-button[_ngcontent-%COMP%]:hover{transform:none;box-shadow:none}}"]})};var Ut=e=>{if(e.value==="string")return gt(null);let n=e.value,t=new FileReader;return mt.create(a=>{t.addEventListener("loadend",()=>{let c=new Uint8Array(t.result).subarray(0,4),b="",T=!1;for(let pt=0;pt<c.length;pt++)b+=c[pt].toString(16);switch(b){case"89504e47":T=!0;break;case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":T=!0;break;default:T=!1;break}T?a.next(null):a.next({invalidMimeType:!0}),a.complete()})})};function le(e,n){e&1&&(o(0,"div",3),d(1,"app-spinner"),r())}function me(e,n){if(e&1&&(o(0,"div",21),d(1,"img",22),r()),e&2){let t=m(3);p(),l("src",t.imagePreview,L)("alt",t.form.value.recipeName)}}function de(e,n){if(e&1){let t=P();o(0,"form",6),g("submit",function(){h(t);let a=m(2);return x(a.onSavePost())}),o(1,"div",7)(2,"h2"),s(3,"Upload Recipe"),r()(),o(4,"div",8)(5,"h2"),s(6,"Recipe Name:"),r(),d(7,"input",9),r(),o(8,"div",10)(9,"h2"),s(10,"Your name:"),r(),d(11,"input",11),r(),o(12,"div",12)(13,"h2"),s(14,"Upload Image:"),r(),o(15,"button",13),g("click",function(){h(t);let a=Ct(18);return x(a.click())}),s(16," Pick Image "),r(),o(17,"input",14,0),g("change",function(a){h(t);let c=m(2);return x(c.onImagePicked(a))}),r()(),f(19,me,2,2,"div",15),o(20,"div",16)(21,"h2"),s(22,"Recipe:"),r(),d(23,"textarea",17),r(),o(24,"div",18)(25,"button",19),s(26,"Back"),r(),o(27,"button",20),s(28,"Submit"),r()()()}if(e&2){let t=m(2);l("formGroup",t.form),p(19),l("ngIf",t.imagePreview!==""&&t.imagePreview)}}function ge(e,n){if(e&1&&(o(0,"div",4),f(1,de,29,2,"form",5),r()),e&2){let t=m();p(),l("ngIf",!t.isLoading)}}var H=class e{constructor(n,t,i){this.postsService=n;this.route=t;this.authService=i}enteredRecipeName="";enteredName="";post;isLoading=!1;form;imagePreview;mode="create";postId;authStatusSub;ngOnInit(){this.authStatusSub=this.authService.getAuthStatusListener().subscribe(n=>{this.isLoading=!1}),this.form=new Nt({recipeName:new R(null,{validators:[F.required]}),yourName:new R(null,{validators:[F.required]}),recipe:new R(null,{validators:[F.required]}),image:new R(null,{validators:[F.required],asyncValidators:[Ut]})}),this.route.paramMap.subscribe(n=>{n.has("postId")?(this.mode="edit",this.postId=n.get("postId"),this.isLoading=!0,this.postsService.getPost(this.postId).subscribe(t=>{this.isLoading=!1,this.post={id:t._id,recipeName:t.recipeName,yourName:t.yourName,recipe:t.recipe,imagePath:t.imagePath,creator:t.creator},this.form.setValue({recipeName:this.post.recipeName,yourName:this.post.yourName,recipe:this.post.recipe,image:this.post.imagePath})})):(this.mode="create",this.postId=null)})}onImagePicked(n){let t=n.target.files[0];this.form.patchValue({image:t}),this.form.get("image").updateValueAndValidity();let i=new FileReader;i.onload=()=>{this.imagePreview=i.result},i.readAsDataURL(t)}onSavePost(){this.form.invalid||(this.isLoading=!0,this.mode==="create"?this.postsService.addPost(this.form.value.recipeName,this.form.value.yourName,this.form.value.recipe,this.form.value.image):this.postsService.updatePost(this.postId,this.form.value.recipeName,this.form.value.yourName,this.form.value.recipe,this.form.value.image),this.form.reset())}ngOnDestroy(){this.authStatusSub.unsubscribe()}static \u0275fac=function(t){return new(t||e)(C(A),C(wt),C(O))};static \u0275cmp=u({type:e,selectors:[["app-post-create"]],standalone:!1,decls:2,vars:2,consts:[["filePicker",""],["class","spinner",4,"ngIf"],["class","upload-window",4,"ngIf"],[1,"spinner"],[1,"upload-window"],[3,"formGroup","submit",4,"ngIf"],[3,"submit","formGroup"],[1,"topic"],[1,"input-recipe-name"],["type","text","name","recipeName","formControlName","recipeName","required",""],[1,"input-name"],["type","text","name","yourName","formControlName","yourName","minlength","3"],[1,"input-image"],["id","input-file","type","button",3,"click"],["type","file",3,"change"],["class","image-preview",4,"ngIf"],[1,"input-recipe"],["rows","10","placeholder","Share your recipe here...","formControlName","recipe","name","recipe"],[1,"buttons"],["id","back","type","button","routerLink","/"],["id","submit","type","submit"],[1,"image-preview"],[3,"src","alt"]],template:function(t,i){t&1&&f(0,le,2,0,"div",1)(1,ge,2,1,"div",2),t&2&&(l("ngIf",i.isLoading),p(),l("ngIf",!i.isLoading))},dependencies:[w,S,Et,kt,It,Lt,Tt,Dt,At,zt,Y],styles:[".upload-window[_ngcontent-%COMP%]{background-color:#e4d6f7;max-width:900px;width:92%;margin:80px auto;padding:48px 40px;border-radius:28px;font-family:Leckerli One;color:#2f1451;box-shadow:0 18px 45px #2f14514d}.topic[_ngcontent-%COMP%]{background-color:#e4d6f7;text-align:center;margin-bottom:40px}.topic[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-size:42px;background-color:#e4d6f7}.buttons[_ngcontent-%COMP%]{background-color:#e4d6f7;display:flex;justify-content:center;margin-top:40px;gap:24px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:140px;height:50px;border:none;border-radius:22px;font-family:Leckerli One;font-size:20px;background-color:#2f1451;color:#e4d6f7;cursor:pointer;transition:transform .25s ease}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.06)}.input-recipe-name[_ngcontent-%COMP%], .input-name[_ngcontent-%COMP%], .input-image[_ngcontent-%COMP%], .input-recipe[_ngcontent-%COMP%]{background-color:#e4d6f7;color:#2f1451;display:flex;flex-direction:column;margin-bottom:28px;gap:10px}.input-recipe-name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .input-name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .input-image[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .input-recipe[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background-color:#e4d6f7;font-size:24px;font-weight:400}.input-recipe-name[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-name[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:48px;width:100%;border:none;border-radius:14px;padding:0 16px;background-color:#2f1451;color:#e4d6f7;font-family:Leckerli One;font-size:16px}.input-image[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{visibility:hidden}.input-image[_ngcontent-%COMP%]{flex-direction:row;align-items:center;gap:54px}.image-preview[_ngcontent-%COMP%]{width:100%;padding:14px;border-radius:22px;display:flex;align-items:center}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:320px;width:auto;height:auto;object-fit:contain;object-position:center;border-radius:16px}#input-file[_ngcontent-%COMP%]{width:fit-content;min-width:180px;height:44px;border:none;border-radius:14px;font-family:Leckerli One;font-size:18px;background-color:#2f1451;color:#e4d6f7;cursor:pointer;transition:transform .2s ease}#input-file[_ngcontent-%COMP%]:hover{transform:scale(1.04)}.input-recipe[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;min-height:140px;border-radius:14px;border:none;padding:14px;font-family:Leckerli One;font-size:16px;background-color:#2f1451;color:#e4d6f7}.input-recipe[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#e4d6f7;font-weight:500}.input-recipe-name[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-name[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-recipe[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;max-width:100%;box-sizing:border-box}form[_ngcontent-%COMP%]{background-color:#e4d6f7}@media (max-width: 768px){.upload-window[_ngcontent-%COMP%]{padding:32px 24px;margin:60px auto}.topic[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:32px}.buttons[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;max-width:260px}}@media (max-width: 480px){.upload-window[_ngcontent-%COMP%]{padding:24px 16px;margin:40px auto}.topic[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px}.input-recipe-name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .input-name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .input-image[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .input-recipe[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:18px;height:44px}}"]})};var z=class e{constructor(n,t){this.authService=n;this.router=t}canActivate(n,t){let i=this.authService.getIsAuth();return i||this.router.navigate(["/auth/login"]),i}static \u0275fac=function(t){return new(t||e)(v(O),v(B))};static \u0275prov=M({token:e,factory:e.\u0275fac})};var ue=[{path:"",component:et},{path:"create",component:H,canActivate:[z]},{path:"edit/:postId",component:H,canActivate:[z]},{path:"auth",loadChildren:()=>import("./chunk-3K4ZGUBL.js").then(e=>e.AuthModule)}],nt=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=N({type:e});static \u0275inj=I({providers:[z],imports:[D.forRoot(ue),D]})};var it=class e{constructor(n){this.authService=n}intercept(n,t){let i=this.authService.getToken(),a=n.clone({headers:n.headers.set("Authorization","Bearer "+i)});return t.handle(a)}static \u0275fac=function(t){return new(t||e)(v(O))};static \u0275prov=M({token:e,factory:e.\u0275fac})};var ot=class e{constructor(n){this.data=n}static \u0275fac=function(t){return new(t||e)(C(Rt))};static \u0275cmp=u({type:e,selectors:[["ng-component"]],standalone:!1,decls:7,vars:1,consts:[[1,"dialog"],["mat-dialog-close",""]],template:function(t,i){t&1&&(o(0,"div",0)(1,"h1"),s(2,"An Error Occured"),r(),o(3,"p"),s(4),r(),o(5,"button",1),s(6," Okay "),r()()),t&2&&(p(4),y(i.data.message))},dependencies:[Vt],styles:[".dialog[_ngcontent-%COMP%]{background-color:#2f1451;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#e4d6f7;font-family:Leckerli One;font-size:25px;width:500px;height:500px;border:2px solid #e4e49c;border-radius:20px}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{width:500px;text-align:center;font-weight:400}button[_ngcontent-%COMP%]{background-color:#e4d6f7;color:#2f1451;font-family:Leckerli One;font-size:25px;margin-top:50px;height:50px;width:100px;border:none;border-radius:10px;cursor:pointer}button[_ngcontent-%COMP%]:hover{font-size:28px;color:#e4d6f7;background-color:#2f1451}@media (max-width: 600px){.dialog[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{background-color:#161215;border:none}.dialog[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{width:90%!important;font-size:20px!important}button[_ngcontent-%COMP%]:hover{font-size:22px!important}}"]})};var rt=class e{constructor(n){this.dialog=n}intercept(n,t){return t.handle(n).pipe(ht(i=>{let a="An unknown error occured!";return i.error.message&&(a=i.error.message),this.dialog.open(ot,{data:{message:a}}),ut(()=>i)}))}static \u0275fac=function(t){return new(t||e)(v(jt))};static \u0275prov=M({token:e,factory:e.\u0275fac})};var at=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=N({type:e});static \u0275inj=I({imports:[$,D,Ft,W,K]})};var st=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=N({type:e,bootstrap:[J]});static \u0275inj=I({providers:[{provide:ct,useClass:it,multi:!0},{provide:ct,useClass:rt,multi:!0}],imports:[Ot,nt,$,Mt,W,at,K]})};bt().bootstrapModule(st,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
